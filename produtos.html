<!doctype html>
<html lang="pt-BR">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Produtos • Luciana Cunha</title>
  <meta name="description" content="Linha de produtos e itens para Mega Hair.">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

  <!-- Estilos globais do site -->
  <link rel="stylesheet" href="style.clean.css">
  <!-- Estilos específicos da página de produtos -->
  <link rel="stylesheet" href="products.css"> <!-- adiciona estilos do catálogo/carrinho -->

  <!-- Spinner custom: adiciona no head para carregar antes do render -->
  <style>
    /* ===== Spinner custom estilizado (override final) ===== */
    /* Esconde spinner nativo cross-browser */
    input[type="number"]::-webkit-inner-spin-button,
    input[type="number"]::-webkit-outer-spin-button {
      -webkit-appearance: none;
      margin: 0;
      display: none !important;
      /* esconder nativo */
    }

    input[type="number"] {
      -moz-appearance: textfield;
      /* Firefox */
    }

    /* Wrapper relativo para posicionar o spinner custom */
    .qty-controls.simple {
      position: relative !important;
      display: inline-flex !important;
      align-items: center !important;
      gap: 8px !important;
      padding-right: 8px !important;
    }

    /* input: espaço para as setas à direita */
    .qty-controls.simple .qty-input {
      padding-right: 72px !important;
      background: transparent !important;
      border: 0 !important;
      color: #fff !important;
      font-weight: 800 !important;
      text-align: center !important;
      width: 56px !important;
      height: 36px !important;
      outline: none !important;
      -webkit-appearance: none !important;
      appearance: none !important;
    }

    /* spinner custom (posicionado à direita do input) */
    .qty-spinner {
      position: absolute !important;
      right: 8px !important;
      top: 50% !important;
      transform: translateY(-50%) !important;
      display: flex !important;
      flex-direction: column !important;
      gap: 6px !important;
      z-index: 2000 !important;
      pointer-events: auto !important;
    }

    /* botões das setas: estilo pill compacto */
    .spin-btn {
      display: inline-flex !important;
      align-items: center !important;
      justify-content: center !important;
      width: 34px !important;
      height: 26px !important;
      min-width: 34px !important;
      padding: 0 !important;
      border-radius: 8px !important;
      border: 1px solid rgba(255, 255, 255, 0.06) !important;
      background: linear-gradient(180deg, rgba(255, 255, 255, 0.02), rgba(255, 255, 255, 0.01)) !important;
      color: #fff !important;
      cursor: pointer !important;
      font-weight: 800 !important;
      -webkit-tap-highlight-color: transparent !important;
      transition: transform .08s ease, background .12s ease, box-shadow .12s !important;
    }

    .spin-btn svg {
      width: 10px;
      height: 10px;
      fill: currentColor;
    }

    .spin-btn:hover {
      transform: translateY(-2px);
      background: rgba(255, 255, 255, 0.04);
      box-shadow: 0 6px 18px rgba(0, 0, 0, 0.4);
    }

    .spin-btn:active {
      transform: translateY(0);
    }

    .spin-btn:focus {
      outline: 2px solid rgba(217, 184, 156, 0.16);
      outline-offset: 2px;
      background: rgba(217, 184, 156, 0.06);
    }

    .spin-up {
      border-bottom-left-radius: 6px !important;
      border-bottom-right-radius: 6px !important;
    }

    .spin-down {
      border-top-left-radius: 6px !important;
      border-top-right-radius: 6px !important;
    }

    @media (max-width: 520px) {
      .qty-controls.simple .qty-input {
        padding-right: 80px !important;
        width: 52px !important;
        height: 34px !important;
      }

      .spin-btn {
        width: 40px !important;
        height: 30px !important;
      }

      .qty-spinner {
        gap: 6px !important;
      }
    }

    /* Forçar visibilidade caso algum outro CSS tente esconder */
    .qty-spinner,
    .qty-spinner * {
      display: inline-flex !important;
      visibility: visible !important;
      opacity: 1 !important;
      pointer-events: auto !important;
    }
  </style>
</head>

<body>
  <a class="skip-link" href="#conteudo">Pular para conteúdo</a>

  <!-- NAVBAR: mesma estrutura do index (centralizada e fixa) -->
  <nav class="navbar" aria-label="Principal">
    <div class="brand">
      <a href="index.html" class="brand-badge" aria-label="Voltar para a Home">LC</a>
      <a href="index.html" class="brand-title">Luciana Cunha</a>
    </div>

    <div class="nav-links">
      <a href="index.html" class="back-btn" aria-label="Voltar para a página inicial">← Voltar</a>
      <a href="index.html#sobre">SOBRE</a>
      <a href="products.html" aria-current="page">PRODUTOS</a>
      <a href="index.html#contato">CONTATO</a>
    </div>
  </nav>

  <!-- CONTEÚDO -->
  <main id="conteudo" class="container product-page" tabindex="-1">
    <h1>Produtos • Mega Hair</h1>
    <p class="lead">Seleção de itens para cuidar do seu Mega Hair com leveza, brilho e durabilidade.</p>

    <!-- ADICIONADO: painel que envolve apenas os produtos -->
    <div class="products-panel">
      <div class="products-grid">
        <!-- Card 1 -->
        <article class="product-card">
          <a class="product-image" style="background-image:url('cabelos/loiro-platinado.jpeg');"
            aria-label="Shampoo Mega Hair"></a>
          <div class="product-info">
            <h3>Loiro Platinado Brasileiro</h3>
            <p></p>
            <div class="product-price"></div>
            <div class="product-actions">
              <button class="btn-primary add-to-cart" data-id="shampoo-mega-hair" data-name="Shampoo Mega Hair"
                data-price="89.90" data-image="cabelos/loiro-platinado.jpeg">Adicionar ao carrinho</button>
            </div>
          </div>
        </article>

        <!-- Card 2 -->
        <article class="product-card">
          <a class="product-image" style="background-image:url('cabelos/cabelo-marrom.jpeg');"
            aria-label="Máscara Hidratante"></a>
          <div class="product-info">
            <h3>Cabelo Brasileiro Mocha Mousse</h3>
            <p></p>
            <div class="product-price"></div>
            <div class="product-actions">
              <button class="btn-primary add-to-cart" data-id="mascara-hidratante" data-name="Máscara Hidratante"
                data-price="119.90" data-image="cabelos/cabelo-marrom.jpeg">Adicionar ao carrinho</button>
            </div>
          </div>
        </article>

        <!-- Card 3 -->
        <article class="product-card">
          <a class="product-image" style="background-image:url('cabelos/cabelo-tela.jpeg');"
            aria-label="Leave-in Protetor"></a>
          <div class="product-info">
            <h3>Cabelo Brasileiro Natural</h3>
            <p></p>
            <div class="product-price"></div>
            <div class="product-actions">
              <button class="btn-primary add-to-cart" data-id="leave-in-protetor" data-name="Leave-in Protetor"
                data-price="74.90" data-image="cabelos/cabelo-tela.jpeg">Adicionar ao carrinho</button>
            </div>
          </div>
        </article>

        <!-- Card 4 -->
        <article class="product-card">
          <a class="product-image" style="background-image:url('cabelos/loiro-natural.jpeg');"
            aria-label="Óleo Reparador"></a>
          <div class="product-info">
            <h3>Cabelo Vietnamita</h3>
            <p></p>
            <div class="product-price"></div>
            <div class="product-actions">
              <button class="btn-primary add-to-cart" data-id="oleo-reparador" data-name="Óleo Reparador"
                data-price="99.90" data-image="cabelos/loiro-natural.jpeg">Adicionar ao carrinho</button>
            </div>
          </div>
        </article>

        <!-- Card 5 -->
        <article class="product-card">
          <a class="product-image" style="background-image:url('cabelos/cabelo-cacheado.JPG');"
            aria-label="Condicionador Suave"></a>
          <div class="product-info">
            <h3>Cabelo Natural Cacheado</h3>
            <p></p>
            <div class="product-price"></div>
            <div class="product-actions">
              <button class="btn-primary add-to-cart" data-id="condicionador-suave" data-name="Condicionador Suave"
                data-price="84.90" data-image="Imagens/produto5.jpg">Adicionar ao carrinho</button>
            </div>
          </div>
        </article>

        <!-- Card 6 -->
        <article class="product-card">
          <a class="product-image" style="background-image:url('cabelos/cabelo-ondulado.JPG');"
            aria-label="Escova Desembaraçante"></a>
          <div class="product-info">
            <h3>Cabelo Ondulado Brasileiro</h3>
            <p></p>
            <div class="product-price"></div>
            <div class="product-actions">
              <button class="btn-primary add-to-cart" data-id="escova-desembaraçante" data-name="Escova Desembaraçante"
                data-price="59.90" data-image="Imagens/produto6.jpg">Adicionar ao carrinho</button>

            </div>
          </div>
        </article>

        <!-- Card 7 -->
        <article class="product-card">
          <a class="product-image" style="background-image:url('cabelos/cabelo-permanente.JPG');"
            aria-label="Condicionador Suave"></a>
          <div class="product-info">
            <h3>Cabelo Brasileiro Permanente</h3>
            <p></p>
            <div class="product-price"></div>
            <div class="product-actions">
              <button class="btn-primary add-to-cart" data-id="condicionador-suave" data-name="Condicionador Suave"
                data-price="84.90" data-image="Imagens/produto5.jpg">Adicionar ao carrinho</button>
            </div>
          </div>
        </article>

      </div>
    </div>
  </main>

  <!-- botão flutuante do carrinho -->
  <button id="cart-button" class="cart-button" aria-label="Abrir carrinho">
    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true" xmlns="http://www.w3.org/2000/svg">
      <path d="M6 7l1-3h10l1 3" stroke="currentColor" stroke-width="1.2" stroke-linecap="round"
        stroke-linejoin="round" />
      <rect x="3" y="7" width="18" height="13" rx="2" stroke="currentColor" stroke-width="1.2" />
    </svg>
    <span class="cart-count" aria-hidden="true">0</span>
  </button>

  <!-- modal do carrinho -->

  <div id="cart-modal" class="cart-modal" aria-hidden="true" role="dialog" aria-label="Carrinho de compras">
    <div class="cart-overlay" data-close="true" aria-hidden="true"></div>

    <!-- Painel lateral elegante (aparece da direita em desktop; fullscreen em mobile) -->
    <aside class="cart-panel" role="document" aria-labelledby="cart-title">
      <header class="cart-header">
        <div class="cart-title">
          <!-- ícone simples como marca -->
          <svg width="28" height="28" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
            <path fill="currentColor"
              d="M7 18c-1.1 0-1.99.9-1.99 2S5.9 22 7 22s2-.9 2-2-.9-2-2-2zm10 0c-1.1 0-1.99.9-1.99 2S15.9 22 17 22s2-.9 2-2-.9-2-2-2zM7.16 14l.84-2H18V9H8.42l-.68-2H4v2h2l2.6 7.59-.92 1.67C7.25 18.53 7 19.24 7 20h10v-6H8.42z">
            </path>
          </svg>
          <div>
            <h3 id="cart-title">Seu carrinho</h3>
            <span class="cart-items-badge" aria-live="polite" aria-atomic="true">0 itens</span>
          </div>
        </div>

        <div class="cart-actions-header">
          <button class="cart-clear small" type="button" title="Limpar carrinho">Limpar</button>
          <button class="cart-close" aria-label="Fechar carrinho">&times;</button>
        </div>
      </header>

      <div class="cart-body" tabindex="0">
        <!-- Volte a ter o container UL: o JS precisa dele para renderizar os itens -->
        <ul class="cart-items" aria-live="polite" aria-relevant="additions removals"></ul>




        <div class="cart-empty" role="status" aria-hidden="false">
          <!-- SVG simples para vazio (sem assets externos) -->
          <svg width="84" height="64" viewBox="0 0 84 64" aria-hidden="true" focusable="false">
            <rect x="4" y="12" width="76" height="40" rx="6" fill="none" stroke="rgba(255,255,255,0.06)"
              stroke-width="2" />
            <path d="M20 24h44" stroke="rgba(255,255,255,0.04)" stroke-width="2" stroke-linecap="round" />
            <circle cx="30" cy="40" r="4" fill="rgba(255,255,255,0.06)" />
            <circle cx="54" cy="40" r="4" fill="rgba(255,255,255,0.06)" />
          </svg>
          <p class="muted-small">Seu carrinho está vazio.</p>
          <button class="btn-secondary cart-continue">Ver produtos</button>
        </div>
      </div>

      <footer class="cart-footer">
        <div class="cart-totals">
          <div class="totals-left">
            <div class="label">Subtotal</div>
            <div class="small-muted">Frete calculado no WhatsApp</div>
          </div>
          <div class="cart-subtotal">R$ 0,00</div>
        </div>

        <div class="cart-footer-actions">
          <button class="btn-outline cart-continue">Continuar comprando</button>
          <button class="btn-primary checkout-btn" disabled>Finalizar compra</button>
        </div>
      </footer>
    </aside>
  </div>


  <!-- toast / popup breve ao adicionar ao carrinho -->
  <div id="toast" class="toast" aria-hidden="true" role="status"></div>

  <!-- Modal de introdução da Loja (substituir pelo trecho abaixo) -->
  <div id="store-intro" class="intro-modal" aria-hidden="true" role="dialog" aria-labelledby="store-intro-title"
    style="display:none;">
    <div class="intro-overlay" data-close="true" tabindex="-1"></div>

    <div class="intro-panel" role="document" aria-modal="true">
      <div class="intro-head">
        <div class="intro-icon" aria-hidden="true">
          <!-- simples ícone circular -->
          <svg width="40" height="40" viewBox="0 0 24 24" aria-hidden="true" focusable="false">
            <circle cx="12" cy="12" r="12" fill="#f3ddbb" />
            <path d="M7 13l3 3 7-7" stroke="#6a4c2b" stroke-width="1.8" stroke-linecap="round" stroke-linejoin="round"
              fill="none" />
          </svg>
        </div>

        <div class="intro-head-text">
          <h3 id="store-intro-title">Como finalizar sua compra</h3>
          <p class="intro-sub">Rápido: vamos montar seu pedido e abrir no WhatsApp.</p>
        </div>

        <button type="button" class="intro-close" aria-label="Fechar">&times;</button>
      </div>

      <div class="intro-body">
        <p>Adicione produtos ao carrinho e toque em “Finalizar compra”. Nós abrimos o WhatsApp com seu pedido pronto
          para envio.</p>
        <ul class="intro-steps">
          <li><strong>1.</strong> Selecione e adicione ao carrinho.</li>
          <li><strong>2.</strong> Ajuste quantidades, se precisar.</li>
          <li><strong>3.</strong> Finalize e confirme no WhatsApp.</li>
        </ul>
      </div>

      <div class="intro-actions">
        <button type="button" class="btn-primary" data-intro-continue>Entendi, vamos lá</button>
        <button type="button" class="btn-secondary" data-close="true">Ver produtos</button>
      </div>
    </div>
  </div>


  <script defer src="scripts.js"></script>

  <!-- Spinner helper: cria/insere spinner custom se o input aparecer sozinho no DOM -->
  <script>
    (function () {
      'use strict';

      // Cria botões de setas (retorna fragmento)
      function createSpinnerButtons() {
        var container = document.createElement('div');
        container.className = 'qty-spinner';

        var btnUp = document.createElement('button');
        btnUp.type = 'button';
        btnUp.className = 'spin-btn spin-up';
        btnUp.setAttribute('aria-label', 'Aumentar quantidade');
        btnUp.innerHTML = '<svg viewBox="0 0 24 24" aria-hidden="true"><path d="M7 15l5-5 5 5z"/></svg>';

        var btnDown = document.createElement('button');
        btnDown.type = 'button';
        btnDown.className = 'spin-btn spin-down';
        btnDown.setAttribute('aria-label', 'Diminuir quantidade');
        btnDown.innerHTML = '<svg viewBox="0 0 24 24" aria-hidden="true"><path d="M7 9l5 5 5-5z"/></svg>';

        container.appendChild(btnUp);
        container.appendChild(btnDown);
        return container;
      }

      // Envolve um input <input type=number> com .qty-controls.simple e adiciona spinner se não existir
      function ensureWrapperAndSpinner(input) {
        if (!input || input.dataset._spinnerProcessed === '1') return;
        input.dataset._spinnerProcessed = '1';

        var wrapper = input.closest('.qty-controls');
        if (!wrapper) {
          wrapper = document.createElement('div');
          wrapper.className = 'qty-controls simple';
          input.parentNode.insertBefore(wrapper, input);
          wrapper.appendChild(input);
        }

        // se já tem spinner, pula
        if (wrapper.querySelector('.qty-spinner')) return;

        var spinner = createSpinnerButtons();
        wrapper.appendChild(spinner);
      }

      // Lida com os clicks das setas (delegation)
      document.addEventListener('click', function (e) {
        var up = e.target.closest('.spin-up');
        var down = e.target.closest('.spin-down');
        if (!up && !down) return;
        e.preventDefault();

        var wrapper = (up || down).closest('.qty-controls');
        var input = wrapper && wrapper.querySelector('input[type="number"]');
        if (!input) return;

        var step = Number(input.getAttribute('step') || 1);
        var min = Number(input.getAttribute('min') || -Infinity);
        var max = input.hasAttribute('max') ? Number(input.getAttribute('max')) : Infinity;
        var value = Number(input.value || 0);

        if (up) value = Math.min(max, value + step);
        if (down) value = Math.max(min, value - step);
        input.value = value;
        input.dispatchEvent(new Event('input', { bubbles: true }));
        input.dispatchEvent(new Event('change', { bubbles: true }));
      });

      // Keyboard handling for focused qty-input
      document.addEventListener('keydown', function (e) {
        var el = document.activeElement;
        if (!el || !el.matches || !el.matches('input[type="number"].qty-input')) return;
        if (e.key === 'ArrowUp' || e.key === 'ArrowDown') {
          e.preventDefault();
          var step = Number(el.getAttribute('step') || 1);
          var min = Number(el.getAttribute('min') || -Infinity);
          var max = el.hasAttribute('max') ? Number(el.getAttribute('max')) : Infinity;
          var val = Number(el.value || 0);
          if (e.key === 'ArrowUp') val = Math.min(max, val + step);
          else val = Math.max(min, val - step);
          el.value = val;
          el.dispatchEvent(new Event('input', { bubbles: true }));
          el.dispatchEvent(new Event('change', { bubbles: true }));
        }
      });

      // Processa inputs já existentes no DOM
      function processExisting() {
        var inputs = document.querySelectorAll('input[type="number"]');
        inputs.forEach(function (inp) {
          // adiciona classe padrao para consistencia visual (se desejar)
          if (!inp.classList.contains('qty-input')) inp.classList.add('qty-input');
          ensureWrapperAndSpinner(inp);
        });
      }

      // Observador para inputs inseridos dinamicamente (ex.: seu scripts.js monta o li do carrinho)
      var mo = new MutationObserver(function (mutations) {
        mutations.forEach(function (m) {
          if (m.addedNodes && m.addedNodes.length) {
            m.addedNodes.forEach(function (node) {
              if (node.nodeType !== 1) return;
              if (node.matches && node.matches('input[type="number"]')) {
                if (!node.classList.contains('qty-input')) node.classList.add('qty-input');
                ensureWrapperAndSpinner(node);
              } else if (node.querySelectorAll) {
                var nested = node.querySelectorAll('input[type="number"]');
                nested.forEach(function (inp) { if (!inp.classList.contains('qty-input')) inp.classList.add('qty-input'); ensureWrapperAndSpinner(inp); });
              }
            });
          }
        });
      });

      document.addEventListener('DOMContentLoaded', function () {
        processExisting();
        mo.observe(document.body, { childList: true, subtree: true });
      });

      // também tentar processar após window.load (caso scripts atrasados)
      window.addEventListener('load', function () { processExisting(); });

    })();
  </script>

</body>

</html>